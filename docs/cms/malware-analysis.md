---
title: 恶意代码分析
---

**下方课件区域方向键控制翻页，`f` 键全屏。**

<iframe src="./slideshow.html" frameborder=0 width=800 height=450></iframe>

## 作业

<b style='color:red;font-size:2em;'>警告：在虚拟机中进行本次实验。</b>

<b style='color:red;font-size:2em;'>警告：在虚拟机中进行本次实验。</b>

<b style='color:red;font-size:2em;'>警告：在虚拟机中进行本次实验。</b>

<b style='font-size:2em;'>请点击[作业链接](https://classroom.github.com/a/AHTsmUJO)</b>

**注: 本次作业会自动生成一个空的仓库，里面没有 `img` 文件夹也没有 `README.md` 文件。同学们需要先 clone 一个空仓库，再自行创建这些文件或目录。**

### 所需工具下载

本次作业需要多个工具来完成分析。

1. ProcessMonitor 分析进程行为

校园网访问: [校内 FTP 下载](http://10.48.5.5/homeworks/3-process-analysis/ProcessMonitor.zip)

非校园网点击: [官网下载](https://download.sysinternals.com/files/ProcessMonitor.zip)

2. 7-Zip 解压缩病毒样本

校园网访问: [校内 FTP 下载](http://10.48.5.5/homeworks/4-malware/7z1900-x64.exe)

非校园网点击: [官网下载](https://www.7-zip.org/a/7z1900-x64.exe)

3. 火绒剑观察并尝试清理病毒

校园网访问: [校内 FTP 下载](http://10.48.5.5/homeworks/4-malware/hrsword.exe)

非校园网点击: [官网下载](hrsword.exe)

### 作业要求及过程提示

下载或安装 Windows 7 虚拟机，在虚拟机中进行本次实验。

虚拟机中安装客机增强件，开启双向拖放，以便你能够将上述软件以及病毒样本放入虚拟机中。

安装 `7-Zip` 解压缩软件，安装火绒剑，解压 `Process Monitor` 以及 病毒样本得到一个 `1.exe`。

病毒样本解压密码请在群中搜索聊天记录，关键词"病毒样本密码"。

使用 `Process Monitor` 设置过滤器捕获 `1.exe` 的行为，双击运行 `1.exe` ，观察并保存在非管理员权限下病毒执行的过程。

再次使用 `Process Monitor` 设置过滤器捕获 `1.exe` 的行为，右键管理员权限运行 `1.exe` ，观察并保存在管理员权限下病毒执行的过程。

对比两次执行病毒的执行过程，观察并记录病毒在进程、注册表、文件等方面的行为。

管理员权限执行火绒剑，尝试通过结束进程、清除注册表项、删除文件等操作来清理病毒。

将上述行为写成实验报告并提交到作业仓库，截至日期请看作业邀请链接提示。

## 附件

1. win 7 虚拟机

体积大仅提供校园网下载: [校内 FTP 下载](http://10.48.5.5/VMs/win7.zip)

2. 病毒样本

校园网访问: [校内 FTP 下载](http://10.48.5.5/homeworks/4-malware/%E8%AD%A6%E5%91%8A%EF%BC%81%EF%BC%81%EF%BC%81%E7%97%85%E6%AF%92.rar)

非校园网点击: [官网下载](%E8%AD%A6%E5%91%8A%EF%BC%81%EF%BC%81%EF%BC%81%E7%97%85%E6%AF%92.rar)
